<!DOCTYPE html>
<html lang="en-ca">
<head>
<meta charset="utf8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JPlot</title>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="../script/plot.js"></script>
<script type="text/javascript" src="../script/jplot.js"></script>
<link rel="shortcut icon" type="image/x-icon" href="../media/favicon.ico"/>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oxygen:400,700"/>
<style type="text/css">

canvas {
    max-width:calc(100% - 2em);
	/* border:1px solid blue; */
}

body {
    text-align:center;
}

</style>
<script type="text/javascript">

$(function() {
    JPlot.loadAll();
    // JPlot.waitForAJAX(shm);
});

// function shm() {
//     let jplot = $("canvas")[0].jplot;
//     jplot.ondraw = function() {
//         for (let i=0;i<this.script.length;i++) {
//             let cmd = this.script[i];
//             if (cmd.x0 != null) cmd.x0 += 0.01;
//         }
//     }
//     jplot.play(30);
// }

function advance(cv, ev, n) {
    cv.jplot.advance(ev.shiftKey ? -1 : 1, n);
}

</script>
</head>
<body>
<p><canvas width="512" height="288" onclick="advance(this, event, 3)" data-jplot="shm.json"></canvas></p>
<p><canvas width="512" height="288" onclick="advance(this, event, 4)" data-jplot="index.json"></canvas></p>
<input id="File" type="file"/>
<input type="button" value="Open" onclick="JPlot.open('#File')"/>
<input type="button" value="Save" onclick="window.open($('canvas')[0].jplot.dataURL())"/>
</body>
</html>
 