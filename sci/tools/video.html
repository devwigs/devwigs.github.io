<!DOCTYPE html>
<html>
<head><title>YouTube Video Player</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="shortcut icon" type="image/x-icon" href="/media/favicon.ico"/>
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Oxygen:400,700,400italic,700italic"/>
<style type="text/css">

body {
    font-family:Oxygen, sans-serif;
    text-align:center;
}

iframe {
    max-width:calc(100% - 16px);
}

</style>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script type="text/javascript">//<!--

function qsDecode(s) {
// Decode the URL query string or a string argument
	if (s == null) s = location.search.slice(1);
	s = s.split("&");
	let qs = {};
	for (let i = 0; i < s.length; i++) if (s[i].length) {
		let arg = s[i].split("=");
		qs[decodeURIComponent(arg[0])] = decodeURIComponent(arg[1]);
	}
	return qs;
}

$(function() {
	let args = qsDecode();
	let ar = args.aspect ? eval(args.aspect) : 16 / 9;
	let vid = args.vid;
    if (vid == null) vid = "videoseries?list=" + args.pl;
	attr = {width:1280, "data-aspect":ar, src:"https://www.youtube.com/embed/" + vid, frameborder:0, allowfullscreen:true}
    $("body").append($("<iframe>").attr(attr));
    $(window).trigger("resize");
})

window.onresize = function() {
    let vid = $("iframe");
    let ar = vid.attr("data-aspect");
    h = Math.round(vid.width() / ar);
    vid.attr({height: h});
}

//--></script>
</head>
<body>
	<h2>YouTube Video Player</h2>
</body>
</html>